---
- hosts: localhost
  roles:
    - ansible-role-user
  vars:
    default_group:
      FreeBSD: wheel
      OpenBSD: wheel
      Debian: users
      RedHat: users
    default_groups:
      FreeBSD:
        - dialer
        - video
      OpenBSD:
        - dialer
        - games
      Debian:
        - dialout
        - video
      RedHat:
        - dialout
        - video
    user_users:
      - name: user_without_home
        arg:
          group: "{{ default_group[ansible_os_family] }}"
          create_home: "no"
      - name: user_without_ssh_key
        arg:
          group: "{{ default_group[ansible_os_family] }}"
      - name: trombik
        arg:
          comment: Tomoyuki Sakurai
          group: "{{ default_group[ansible_os_family] }}"
          groups: "{{ default_groups[ansible_os_family] }}"
          shell: /bin/sh
        github:
          user: trombik
      - name: foo
        arg:
          state: absent
